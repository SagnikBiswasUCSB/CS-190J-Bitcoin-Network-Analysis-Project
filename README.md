# CS190J Bitcoin Project: Unveiling Market Structures through Advanced Network Analysis, Temporal Dynamics, and Topological Signatures

**Authors:** Pratyush Rallapally, Matthew Zhang, Rishik Buneti, Sagnik Biswas

## Project Overview

This project investigates advanced network analysis techniques to identify and characterize meaningful community structures and interaction patterns within Bitcoin trust-based ecosystems. Traditional methods often provide static or incomplete views. This research aims to gain deeper, multi-scale insights by:

1.  Systematically applying and evaluating a suite of methodologies including:
    * Modularity-based community detection (Louvain, Girvan-Newman).
    * Overlapping community detection (k-Clique Percolation).
    * Spectral analysis via the Graph Laplacian ($L_0$) for community partitioning (Fiedler vector) and assessing network connectivity.
    * Analysis of structural (unweighted incidence) Hodge Laplacians ($L_0, L_1, L_2$) to capture multi-scale coordination patterns and topological features related to Betti numbers ($\beta_0, \beta_1, \beta_2$).
    * Clustering of edges based on the eigenvectors of the Hodge $L_1$ Laplacian to identify communities of interactions.
    * Simulated Topological Data Analysis (TDA), with a strong emphasis on **time-based filtrations (using edge timestamps to define an evolving clique complex)**, to illustrate the identification of dynamic topological features (components H0, cycles H1).
2.  Applying these techniques to two real-world Bitcoin user rating datasets (Bitcoin OTC and Bitcoin Alpha), which contain rich, timestamped interaction data.
3.  Attempting to decode "operational blueprints" and "topological fingerprints" of implicit network communities, particularly focusing on their **temporal behavior, stability, higher-order interactions, and evolution**.
4.  Pinpointing which advanced methodologies offer the clearest and most interpretable insights into these complex digital economies.

The goal is to move beyond surface-level clustering to reveal persistent and evolving structural and relational patterns that characterize different market actors and their operations over time.

## Repository Structure

* `script.py`: The main Python script containing data loading, preprocessing, the core analysis algorithms, and visualization functions.
* `soc-sign-bitcoinotc.csv.gz`: Compressed CSV data for the Bitcoin OTC trust network. **Must be downloaded from SNAP.**
* `soc-sign-bitcoinalpha.csv.gz`: Compressed CSV data for the Bitcoin Alpha trust network. **Must be downloaded from SNAP.**
* `Bitcoin_Project_Analysis_Outputs_Pipeline_Run/` (generated by `script.py`): Directory where plots and other output files are saved. It will contain subdirectories for `BitcoinOTC` and `BitcoinAlpha`.
* `research_paper.tex` (template provided separately by user, to be filled with analysis): The LaTeX source file for the research paper.
* `README.md`: This file.

## Datasets

This project utilizes two timestamped datasets from the Stanford Network Analysis Platform (SNAP):

1.  **Bitcoin OTC trust weighted signed network (`soc-sign-bitcoinotc.csv.gz`)**
    * Source: [https://snap.stanford.edu/data/soc-sign-bitcoinotc.html](https://snap.stanford.edu/data/soc-sign-bitcoinotc.html)
2.  **Bitcoin Alpha trust weighted signed network (`soc-sign-bitcoinalpha.csv.gz`)**
    * Source: [https://snap.stanford.edu/data/soc-sign-bitcoinalpha.html](https://snap.stanford.edu/data/soc-sign-bitcoinalpha.html)

**Important:** Download these `.csv.gz` files from SNAP and place them in the same directory as `script.py`, or update paths in `script.py`.

## Methodology Implemented/Simulated in `script.py`

The script implements or simulates the following analyses:

* **Node-Based Community Detection:**
    * Louvain Modularity optimization.
    * Girvan-Newman divisive clustering (modularity-tracked, for smaller graphs/components).
    * k-Clique Percolation for overlapping communities (k=3, k=4 implemented).
* **Spectral Methods & Graph Laplacians:**
    * $L_0$ (Graph Laplacian): Fiedler vector partitioning for spectral bisection; analysis of its spectrum (number of connected components).
* **Hodge Laplacians & Higher-Order Analysis:**
    * Construction of structural (unweighted incidence) Boundary Operators $B_1$ (node-to-edge) and $B_2$ (edge-to-triangle).
    * Computation of Hodge Laplacians: $L_0=B_1B_1^T$, $L_1^{\text{down}}=B_1^TB_1$, $L_1^{\text{up}}=B_2B_2^T$, $L_1^{\text{full}}=L_1^{\text{down}}+L_1^{\text{up}}$, and $L_2^{\text{down}}=B_2^TB_2$.
    * Spectral analysis of $L_0, L_1^{\text{full}}, L_2^{\text{down}}$ to infer information about Betti numbers $\beta_0$ (components), $\beta_1$ (cycles), and $\beta_2$ (voids related to triangles).
    * **$L_1$ Edge Community Detection:** K-Means clustering of edges based on the eigenvector components of the $L_1^{\text{full}}$ Laplacian.
* **Simulated Topological Data Analysis (TDA):**
    * Framework for simulating a **Vietoris-Rips style filtration using edge timestamps (time $t$ as $\epsilon$)** to model an evolving clique complex.
    * **Illustrative generation of persistence barcodes (simulated H0, H1)** based on the evolution of connected components and heuristic cycle detection within the time-filtered graph snapshots.
* **Temporal Analysis:**
    * Timestamps are fundamentally used in the simulated TDA time filtrations.
    * Other methods are applied to the full aggregated graph, but the TDA provides the primary lens for dynamic evolution.

## Running the Analysis

### Prerequisites

* Python 3.7+
* Required Python packages:
    * `pandas`
    * `networkx`
    * `numpy`
    * `scipy`
    * `matplotlib`
    * `python-louvain`
    * `scikit-learn`

    Install using pip:
    ```bash
    pip install pandas networkx numpy scipy matplotlib python-louvain scikit-learn
    ```

### Execution

1.  **Ensure Data Files:** Download `soc-sign-bitcoinotc.csv.gz` and `soc-sign-bitcoinalpha.csv.gz` from SNAP and place them in the script's directory (or update paths in `script.py`).
2.  **Run Script:** Execute `python script.py` from your terminal.
3.  **Outputs:** Progress is printed to the console. Plots are saved to `Bitcoin_Project_Analysis_Outputs_Pipeline_Run/` in dataset-specific subfolders.

### Platform Compatibility Note
The script uses standard Python libraries. While generally cross-platform (Linux, macOS, Windows), it has been primarily developed and tested in a Unix-like environment. **Execution on Windows may encounter unforeseen issues related to pathing, specific library behaviors, or dependencies, and is not guaranteed.** Ensure your Python environment and package installations are correctly configured.

## Important Notes on Advanced Method Simulations

* **Hodge Laplacians:** The $B_1$ and $B_2$ boundary operators, and the resulting Hodge Laplacians, are based on *unweighted, structural* incidences.
* **Topological Data Analysis (TDA):** The persistent homology barcodes (H0, H1) are **illustrative simulations**. Rigorous PH computation requires dedicated libraries (e.g., GUDHI, Ripser). This script demonstrates the *concept and potential utility* of time-based TDA.
